(this["webpackJsonpfinal-app"]=this["webpackJsonpfinal-app"]||[]).push([[0],{146:function(e,t,f){},351:function(e,t,f){},369:function(e,t,f){},370:function(e,t,f){},379:function(e,t,f){},392:function(e,t){},401:function(e,t){},419:function(e,t){},421:function(e,t){},438:function(e,t){},439:function(e,t){},504:function(e,t){},506:function(e,t){},515:function(e,t){},517:function(e,t){},542:function(e,t){},544:function(e,t){},545:function(e,t){},551:function(e,t){},564:function(e,t){},576:function(e,t){},579:function(e,t){},584:function(e,t){},595:function(e,t){},598:function(e,t){},650:function(e,t,f){},666:function(e,t,f){},667:function(e,t,f){},668:function(e,t,f){},669:function(e,t,f){},865:function(e,t,f){},866:function(e,t,f){},867:function(e,t,f){},870:function(e,t,f){"use strict";f.r(t);var n=f(0),a=f(1),r=f.n(a),i=f(45),s=f.n(i),c=(f(369),f(370),f(146),f(96)),d=f.n(c),o=f(19),l=Object(a.createContext)(),u=function(e){var t=e.reducer,f=e.initialState,r=e.children;return Object(n.jsx)(l.Provider,{value:Object(a.useReducer)(t,f),children:r})},p=function(){return Object(a.useContext)(l)},b=f.p+"static/media/LOGO1.ded569d1.svg";var m=function(){var e="";return e=""==localStorage.getItem("Email")?"Sign In":"Sign Out ",Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)("img",{className:"header_logo",src:b}),Object(n.jsx)(o.b,{to:"/",children:Object(n.jsx)("div",{className:"header_home",children:Object(n.jsx)(d.a,{})})}),Object(n.jsx)("div",{className:"header_nav",children:Object(n.jsx)(o.b,{to:"/login",children:Object(n.jsx)("div",{className:"header_op",children:Object(n.jsx)("span",{className:"line1",children:e})})})})]})};var h=function(){var e="";return e=""==localStorage.getItem("Email")?"Sign In":"Sign Out ",Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)("img",{className:"header_logo",src:b}),Object(n.jsx)(o.b,{to:"/",children:Object(n.jsx)("div",{className:"header_home",children:Object(n.jsx)(d.a,{})})}),Object(n.jsxs)("div",{className:"header_nav",children:[Object(n.jsx)(o.b,{to:"/login",children:Object(n.jsx)("div",{className:"header_op",children:Object(n.jsx)("span",{className:"line1",children:e})})}),Object(n.jsx)(o.b,{to:"/mytasks",children:Object(n.jsx)("div",{className:"header_op",children:Object(n.jsx)("span",{className:"line1",children:"Edit Tasks"})})}),Object(n.jsx)(o.b,{to:"/addtask",children:Object(n.jsx)("div",{className:"header_op",children:Object(n.jsx)("span",{className:"line1",children:"Add new Task"})})})]})]})},y=f(16);var j,x=function(){var e=p(),t=Object(y.a)(e,2),f=t[0].basket,a=(t[1],"");return a=""==localStorage.getItem("Email")?"Sign In":"Sign Out ",Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)("img",{className:"header_logo",src:b}),Object(n.jsx)(o.b,{to:"/",children:Object(n.jsx)("div",{className:"header_home",children:Object(n.jsx)(d.a,{})})}),Object(n.jsxs)("div",{className:"header_nav",children:[Object(n.jsx)(o.b,{to:"/login",children:Object(n.jsx)("div",{className:"header_op",children:Object(n.jsx)("span",{className:"line1",children:a})})}),Object(n.jsx)(o.b,{to:"/Findtasks",children:Object(n.jsx)("div",{className:"header_op",children:Object(n.jsx)("span",{className:"line1",children:"Find Tasks"})})}),Object(n.jsx)(o.b,{to:"/currenttasks",children:Object(n.jsxs)("div",{className:"header_op",children:[Object(n.jsx)("span",{className:"line1",children:"Current Tasks:"}),Object(n.jsx)("span",{className:"line2 TaskCount",children:null===f||void 0===f?void 0:f.length})]})})]})]})},g=(f(379),f(22)),v=f(4),O=f.n(v),T=f(12),C="0xC2a714cB3dC77A7660566D81D04a1fD24132C346",k="0x8372d3FC9301A9034224655e30b3aB8b66A1d56D",w="https://sabcnew.herokuapp.com/",N=f(20),E=f.n(N),A=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"a",type:"address"},{indexed:!1,internalType:"int256",name:"r",type:"int256"}],name:"ReputationUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"a",type:"address"},{indexed:!1,internalType:"uint256",name:"s",type:"uint256"}],name:"StatisticsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"s",type:"address"},{indexed:!1,internalType:"string",name:"u",type:"string"}],name:"UserAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"a",type:"address"}],name:"UserDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"u",type:"string"}],name:"UsernameAdded",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"Users",outputs:[{internalType:"enum SenseChainUsers.Type",name:"types",type:"uint8"},{internalType:"int256",name:"Reputation",type:"int256"},{internalType:"uint256",name:"Staticstics",type:"uint256"},{internalType:"int256",name:"totalrequests",type:"int256"},{internalType:"int256",name:"userrelevent",type:"int256"},{internalType:"string",name:"Username",type:"string"},{internalType:"bytes32",name:"Password",type:"bytes32"},{internalType:"bool",name:"registered",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"s",type:"address"},{internalType:"string",name:"u",type:"string"},{internalType:"string",name:"p",type:"string"}],name:"aUser",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"delUser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256",name:"x",type:"int256"}],name:"gUser",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"s",type:"address"},{internalType:"string",name:"username",type:"string"},{internalType:"string",name:"password",type:"string"}],name:"login",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"u",type:"address"},{internalType:"int256",name:"r",type:"int256"},{internalType:"int256",name:"t",type:"int256"}],name:"updateUserReputation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"u",type:"address"},{internalType:"uint256",name:"s",type:"uint256"}],name:"updateUserStats",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"u",type:"address"}],name:"userExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"u",type:"address"}],name:"userReputation",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"u",type:"address"}],name:"userRequester",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],S=(f(650),new E.a(new E.a.providers.HttpProvider(w)));S.eth.getAccounts((function(e,t){null==e?t.length>0&&(console.log(S.currentProvider),console.log(t),S.eth.defaultAccount=t[0],j=t[0]):alert("There was an error fetching your accounts")}));var I=function(){var e=Object(g.f)(),t=Object(a.useState)(""),f=Object(y.a)(t,2),r=f[0],i=f[1],s=Object(a.useState)(""),c=Object(y.a)(s,2),d=c[0],o=c[1],l=function(){var t=Object(T.a)(O.a.mark((function t(f){var n,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f.preventDefault(),e.push("/"),r,n=new S.eth.Contract(A,"0xC2a714cB3dC77A7660566D81D04a1fD24132C346"),localStorage.setItem("Email",r),localStorage.setItem("Password",d),""!=r&&""!=d){t.next=10;break}alert("Missing Fields !!!"),t.next=17;break;case 10:return t.next=12,n.methods.login(j,r,d).estimateGas();case 12:return a=t.sent,alert(a+" Gas used"),t.next=16,n.methods.login(j,r,d).call({from:j,gas:a}).then((function(e){0==e?alert("successful login"):(localStorage.setItem("Email",""),alert("unsuccessful login"))}));case 16:t.sent;case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(t){t.preventDefault(),e.push("/register")};return localStorage.getItem("Email"),Object(n.jsxs)("div",{className:"login",children:[Object(n.jsx)("img",{className:"login__logo",src:b}),Object(n.jsxs)("div",{className:"login__container",children:[Object(n.jsx)("h1",{children:"Sign-in"}),Object(n.jsxs)("form",{children:[Object(n.jsx)("h5",{children:"User Name"}),Object(n.jsx)("input",{type:"text",value:r,onChange:function(e){return i(e.target.value)}}),Object(n.jsx)("h5",{children:"Password"}),Object(n.jsx)("input",{type:"password",value:d,onChange:function(e){return o(e.target.value)}}),Object(n.jsx)("button",{type:"submit",onClick:l,className:"login__signInButton",children:"Sign In"})]}),Object(n.jsx)("p",{children:"By signing-in you agree to our Conditions. Please see our Privacy Notice."}),Object(n.jsx)("button",{onClick:u,className:"login__registerButton",children:"Create your Account"})]})]})},M=f(6),P=f(9),D=f(15),B=f(14),R=f(54),_={position:"absolute",width:"100%",height:"100%"},q=function(e){Object(D.a)(f,e);var t=Object(B.a)(f);function f(e){var n;Object(M.a)(this,f);var a=(n=t.call(this,e)).props.initialCenter,r=a.lat,i=a.lng;return n.state={currentLocation:{lat:r,lng:i}},n}return Object(P.a)(f,[{key:"componentDidUpdate",value:function(e,t){e.google!==this.props.google&&this.loadMap(),t.currentLocation!==this.state.currentLocation&&this.recenterMap()}},{key:"recenterMap",value:function(){var e=this.map,t=this.state.currentLocation,f=this.props.google.maps;if(e){var n=new f.LatLng(t.lat,t.lng);e.panTo(n)}}},{key:"componentDidMount",value:function(){var e=this;this.props.centerAroundCurrentLocation&&navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var f=t.coords;e.setState({currentLocation:{lat:f.latitude,lng:f.longitude}})})),this.loadMap()}},{key:"loadMap",value:function(){if(this.props&&this.props.google){var e=this.props.google.maps,t=this.refs.map,f=s.a.findDOMNode(t),n=this.props.zoom,a=this.state.currentLocation,r=a.lat,i=a.lng,c=new e.LatLng(r,i),d=Object.assign({},{center:c,zoom:n});this.map=new e.Map(f,d)}}},{key:"renderChildren",value:function(){var e=this,t=this.props.children;if(t)return r.a.Children.map(t,(function(t){if(t)return r.a.cloneElement(t,{map:e.map,google:e.props.google,mapCenter:e.state.currentLocation})}))}},{key:"render",value:function(){var e=Object.assign({},_);return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{style:e,ref:"map",children:"Loading map..."}),this.renderChildren()]})}}]),f}(r.a.Component),L=q;q.defaultProps={zoom:14,initialCenter:{lat:-1.2884,lng:36.8233},centerAroundCurrentLocation:!1,visible:!0};var U=function(e){Object(D.a)(f,e);var t=Object(B.a)(f);function f(){var e;Object(M.a)(this,f);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onMarkerClick=function(t,f,n){return e.setState({selectedPlace:t,activeMarker:f,showingInfoWindow:!0})},e.onClose=function(t){e.state.showingInfoWindow&&e.setState({showingInfoWindow:!1,activeMarker:null})},e.state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},e}return Object(P.a)(f,[{key:"render",value:function(){return Object(n.jsxs)(L,{centerAroundCurrentLocation:!0,google:this.props.google,children:[Object(n.jsx)(R.Marker,{onClick:this.onMarkerClick,name:"Current Location"}),Object(n.jsx)(R.InfoWindow,{marker:this.state.activeMarker,position:this.state.CurrentLocation,visible:this.state.showingInfoWindow,onClose:this.onClose,children:Object(n.jsx)("div",{children:Object(n.jsx)("h4",{children:this.state.selectedPlace.name})})})]})}}]),f}(a.Component),G=Object(R.GoogleApiWrapper)({apiKey:"AIzaSyBrRV4gWXbo2HJ--IVCK53dHIFX9myUNIU"})(U);var W,F=function(){var e=Object(g.f)(),t=localStorage.getItem("Email");return Object(n.jsx)("div",{className:"home",children:Object(n.jsxs)("div",{className:"home_container",children:[Object(n.jsxs)("h2",{id:"a",className:"current_title",children:["Welcome ",t]}),Object(n.jsx)("h2",{className:"User",children:"What are you today?"}),Object(n.jsx)("button",{onClick:function(f){f.preventDefault(),""==t?e.push("/login"):e.push("/requester")},className:"requesterButton",children:"Requester"}),Object(n.jsx)("button",{onClick:function(f){f.preventDefault(),""==t?e.push("/login"):e.push("/worker")},className:"workerButton",children:"Worker"}),Object(n.jsx)("h2",{className:"location",children:"Your current location:"}),Object(n.jsx)(G,{className:"map"}),";"]})})},H=f.p+"static/media/Welcome_Req.b52af188.svg",z=(f(666),[{inputs:[{internalType:"address",name:"ucont",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"s",type:"address"},{indexed:!1,internalType:"uint256",name:"totals",type:"uint256"}],name:"SolutionsReduced",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"s",type:"address"},{indexed:!1,internalType:"int8",name:"st",type:"int8"}],name:"StatusUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"a",type:"address"},{indexed:!1,internalType:"address",name:"s",type:"address"},{indexed:!1,internalType:"int256",name:"rep",type:"int256"},{indexed:!1,internalType:"string",name:"data",type:"string"},{indexed:!1,internalType:"uint256",name:"dur",type:"uint256"},{indexed:!1,internalType:"uint256",name:"dep",type:"uint256"},{indexed:!1,internalType:"string",name:"loc",type:"string"},{indexed:!1,internalType:"int8",name:"stat",type:"int8"},{indexed:!1,internalType:"uint256",name:"sol",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tol",type:"uint256"},{indexed:!1,internalType:"uint256",name:"min",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minrep",type:"uint256"}],name:"TaskContract",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"s",type:"string"}],name:"add",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"cont",type:"address"},{indexed:!1,internalType:"int256",name:"q",type:"int256"}],name:"minquality",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"s",type:"uint256"}],name:"pending",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"s",type:"address"}],name:"taskdetail",type:"event"},{inputs:[{internalType:"address",name:"cont",type:"address"}],name:"ReduceSolutions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"TasksList",outputs:[{internalType:"address",name:"Owner",type:"address"},{internalType:"int256",name:"reputation",type:"int256"},{internalType:"int8",name:"Status",type:"int8"},{internalType:"string",name:"DataType",type:"string"},{internalType:"uint256",name:"Duration",type:"uint256"},{internalType:"uint256",name:"Deposit",type:"uint256"},{internalType:"string",name:"location",type:"string"},{internalType:"uint256",name:"totalsolutions",type:"uint256"},{internalType:"uint256",name:"tolerance",type:"uint256"},{internalType:"uint256",name:"minPayment",type:"uint256"},{internalType:"uint256",name:"minReputation",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int8",name:"s",type:"int8"}],name:"UpdateStatus",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"cont",type:"address"},{internalType:"address",name:"sender",type:"address"},{internalType:"string",name:"data",type:"string"},{internalType:"uint256",name:"deposit",type:"uint256"},{internalType:"uint256",name:"dur",type:"uint256"},{internalType:"string",name:"loc",type:"string"},{internalType:"uint256",name:"sol",type:"uint256"},{internalType:"uint256",name:"tol",type:"uint256"},{internalType:"uint256",name:"minrep",type:"uint256"}],name:"addTask",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"cont",type:"address"}],name:"addTaskTest",outputs:[{internalType:"string",name:"d",type:"string"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"add",type:"address"}],name:"cancelTask",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"s",type:"uint256"}],name:"getPendingTasks",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"int256",name:"",type:"int256"},{internalType:"int8",name:"",type:"int8"},{internalType:"string",name:"",type:"string"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"string",name:"",type:"string"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getPendingTasksNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"getPendingTasksUser",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"c",type:"address"},{internalType:"int256",name:"qu",type:"int256"}],name:"minq",outputs:[],stateMutability:"nonpayable",type:"function"}]),V=new E.a(new E.a.providers.HttpProvider(w));var Y,J=function(){var e=function(){var e=Object(T.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),V.eth.getAccounts(function(){var e=Object(T.a)(O.a.mark((function e(t,f){var n,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t){e.next=3;break}return alert("There was an error fetching your accounts"),e.abrupt("return");case 3:if(!(f.length>0)){e.next=17;break}return console.log(V.currentProvider),console.log(f),n=window.prompt("Enter your account prefix: "),V.eth.defaultAccount=f[n],W=f[n],a=new V.eth.Contract(A,C),e.next=12,a.methods.userReputation(W).estimateGas();case 12:return r=e.sent,console.log("Gas used: "+r),e.next=16,a.methods.userReputation(W).call({from:W,gas:r}).then((function(e){-1!=e&&alert("My reputation is: "+e)}));case 16:e.sent;case 17:case"end":return e.stop()}}),e)})));return function(t,f){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=Object(T.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),V.eth.getAccounts(function(){var e=Object(T.a)(O.a.mark((function e(t,f){var n,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t){e.next=3;break}return alert("There was an error fetching your accounts"),e.abrupt("return");case 3:if(!(f.length>0)){e.next=17;break}return console.log(V.currentProvider),console.log(f),n=window.prompt("Enter your account prefix: "),V.eth.defaultAccount=f[n],W=f[n],a=new V.eth.Contract(z,k),e.next=12,a.methods.getPendingTasksUser(W).estimateGas();case 12:return r=e.sent,console.log("Gas used: "+r),e.next=16,a.methods.getPendingTasksUser(W).call({from:W,gas:r}).then((function(e){alert("My Requested Tasks: "+e)}));case 16:e.sent;case 17:case"end":return e.stop()}}),e)})));return function(t,f){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{className:"home_pic",src:H}),Object(n.jsxs)("h2",{className:"Description1",children:["Go to ",Object(n.jsx)(o.b,{to:"/mytasks",children:"Edit Tasks"})," to delete your tasks"]}),Object(n.jsxs)("h2",{className:"Description2",children:["Go to ",Object(n.jsx)(o.b,{to:"/addtask",children:"Add new task"})," to add a task"]}),Object(n.jsxs)("h2",{className:"Description3",children:["To view your reputaion: ",Object(n.jsx)("form",{children:Object(n.jsx)("button",{type:"submit",onClick:e,className:"RequesterButton1",children:"Reputation"})})]}),Object(n.jsxs)("h2",{className:"Description4",children:["To view the number of tasks you requested: ",Object(n.jsx)("form",{children:Object(n.jsx)("button",{type:"submit",onClick:t,className:"RequesterButton2 ",children:"No. of tasks"})})]})]})},K=f.p+"static/media/Welcome_Requester_2_.225e4b8f.svg",X=(f(667),new E.a(new E.a.providers.HttpProvider(w)));var Q=function(){var e=function(){var e=Object(T.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),X.eth.getAccounts(function(){var e=Object(T.a)(O.a.mark((function e(t,f){var n,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t){e.next=3;break}return alert("There was an error fetching your accounts"),e.abrupt("return");case 3:if(!(f.length>0)){e.next=17;break}return console.log(X.currentProvider),console.log(f),n=window.prompt("Enter your account prefix: "),X.eth.defaultAccount=f[n],Y=f[n],a=new X.eth.Contract(A,C),e.next=12,a.methods.userReputation(Y).estimateGas();case 12:return r=e.sent,console.log("Gas used: "+r),e.next=16,a.methods.userReputation(Y).call({from:Y,gas:r}).then((function(e){-1!=e&&alert("My reputation is: "+e)}));case 16:e.sent;case 17:case"end":return e.stop()}}),e)})));return function(t,f){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{className:"home_pic",src:K}),Object(n.jsxs)("h2",{className:"Description1",children:["Go to ",Object(n.jsx)(o.b,{to:"/Findtasks",children:"Find Tasks"})," to reserve a task"]}),Object(n.jsxs)("h2",{className:"Description2",children:["Go to ",Object(n.jsx)(o.b,{to:"/currenttasks",children:"Current Tasks"})," to view your tasks"]}),Object(n.jsxs)("h2",{className:"Description3",children:["To view your reputaion: ",Object(n.jsx)("form",{children:Object(n.jsx)("button",{type:"submit",onClick:e,className:"WorkerButton1",children:"Reputation"})})]})]})},Z=(f(668),[{inputs:[{internalType:"address",name:"o",type:"address"},{internalType:"string",name:"d",type:"string"},{internalType:"uint256",name:"dur",type:"uint256"},{internalType:"uint256",name:"dep",type:"uint256"},{internalType:"string",name:"loc",type:"string"},{internalType:"uint256",name:"sol",type:"uint256"},{internalType:"uint256",name:"tol",type:"uint256"},{internalType:"uint256",name:"minr",type:"uint256"},{internalType:"address",name:"ucont",type:"address"},{internalType:"address",name:"tcont",type:"address"}],stateMutability:"payable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"string",name:"DataType",type:"string"},{indexed:!1,internalType:"int8",name:"status",type:"int8"},{indexed:!1,internalType:"uint256",name:"dur",type:"uint256"},{indexed:!1,internalType:"uint256",name:"dep",type:"uint256"},{indexed:!1,internalType:"string",name:"loc",type:"string"},{indexed:!1,internalType:"uint256",name:"tol",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minrep",type:"uint256"}],name:"Display",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"s",type:"string"}],name:"Evaluate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"cont",type:"address"},{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"int256",name:"data",type:"int256"},{indexed:!1,internalType:"int256",name:"evaluation",type:"int256"}],name:"EvaluationResult",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"cont",type:"address"},{indexed:!1,internalType:"int256",name:"minqoi",type:"int256"}],name:"SelectedGroupQoI",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sen",type:"address"},{indexed:!1,internalType:"int256",name:"d",type:"int256"},{indexed:!1,internalType:"string",name:"t",type:"string"},{indexed:!1,internalType:"uint256",name:"ss",type:"uint256"},{indexed:!1,internalType:"int256",name:"rep",type:"int256"}],name:"Submitted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"a",type:"address"}],name:"TaskAdd",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sen",type:"address"},{indexed:!1,internalType:"int256",name:"d",type:"int256"},{indexed:!1,internalType:"bytes16",name:"t",type:"bytes16"},{indexed:!1,internalType:"uint256",name:"ss",type:"uint256"},{indexed:!1,internalType:"int256",name:"rep",type:"int256"}],name:"notSubmitted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"a",type:"address"},{indexed:!1,internalType:"uint256",name:"dep",type:"uint256"},{indexed:!1,internalType:"int256",name:"q",type:"int256"},{indexed:!1,internalType:"uint256",name:"p",type:"uint256"}],name:"payment",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"s",type:"address"},{indexed:!1,internalType:"string",name:"msg",type:"string"}],name:"taskdetail",type:"event"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"SubmittedSolutions",outputs:[{internalType:"address",name:"worker",type:"address"},{internalType:"int256",name:"data",type:"int256"},{internalType:"int256",name:"quality",type:"int256"},{internalType:"int256",name:"rep",type:"int256"},{internalType:"uint256",name:"deadline",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"TaskAttributes",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"TestTDC",outputs:[{internalType:"string",name:"x",type:"string"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"distributedReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"evaluateReservations",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"ty",type:"uint8"}],name:"evaluateSolutions",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"s",type:"uint256"}],name:"getSolution",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"int256",name:"",type:"int256"},{internalType:"int256",name:"",type:"int256"},{internalType:"int256",name:"",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getSolutionsNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"int256",name:"dist",type:"int256"},{internalType:"int256",name:"dur",type:"int256"}],name:"requestRes",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"int256",name:"data",type:"int256"}],name:"submitSolution",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"successfulreservation",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"timeout",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"updateTask",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"workerreservations",outputs:[{internalType:"address",name:"worker",type:"address"},{internalType:"int256",name:"distance",type:"int256"},{internalType:"int256",name:"duration",type:"int256"},{internalType:"int256",name:"rep",type:"int256"},{internalType:"int256",name:"QoI",type:"int256"}],stateMutability:"view",type:"function"}]),$=(f(669),f(76)),ee=f(77);function te(){var e=Object($.a)(["\n  list-style: none;\n  margin-bottom: 0.8em;\n"]);return te=function(){return e},e}function fe(){var e=Object($.a)(["\n  padding: 0;\n  margin: 0;\n  padding-left: 1em;\n  background: #ffffff;\n  border: 2px solid #e5e5e5;\n  box-sizing: border-box;\n  color: #3faffa;\n  font-size: 1.3rem;\n  font-weight: 500;\n  &:first-child {\n    padding-top: 0.8em;\n  }\n"]);return fe=function(){return e},e}function ne(){var e=Object($.a)([""]);return ne=function(){return e},e}function ae(){var e=Object($.a)(["\n  margin-bottom: 0.8em;\n  padding: 0.4em 2em 0.4em 1em;\n  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.15);\n  font-weight: 500;\n  font-size: 1.3rem;\n  color: #3faffa;\n  background: #ffffff;\n"]);return ae=function(){return e},e}function re(){var e=Object($.a)(["\n  width: 10.5em;\n  margin: 0 auto;\n"]);return re=function(){return e},e}function ie(){var e=Object($.a)(["\n  font-family: sans-serif;\n  background: #f0f0f0;\n  height: 100vh;\n"]);return ie=function(){return e},e}Object(ee.a)("div")(ie()),Object(ee.a)("div")(re()),Object(ee.a)("div")(ae()),Object(ee.a)("div")(ne()),Object(ee.a)("ul")(fe()),Object(ee.a)("li")(te());f(297);var se,ce,de,oe=[],le=new E.a(new E.a.providers.HttpProvider(w));le.eth.getAccounts((function(e,t){null==e?t.length>0&&(console.log(le.currentProvider),console.log(t),le.eth.defaultAccount=t[0],de=t[0]):alert("There was an error fetching your accounts")})),navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){console.log(e.coords.latitude,e.coords.longitude),se=e.coords.latitude.toFixed(2),ce=e.coords.longitude.toFixed(2)}));var ue=function(){var e=Object(T.a)(O.a.mark((function e(t){var f,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout(5e3),t.preventDefault(),f=new le.eth.Contract(z,"0x8372d3FC9301A9034224655e30b3aB8b66A1d56D"),alert("getting tasks!!!"),e.next=6,f.methods.getPendingTasksNumber().estimateGas();case 6:return n=e.sent,console.log("Gas used: "+n),alert(n+" gas added"),e.next=11,f.methods.getPendingTasksNumber().call({from:de,gas:n}).then(function(){var e=Object(T.a)(O.a.mark((function e(t){var n,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0,0==(n=t)&&alert("no tasks"),r=0;case 4:if(!(r<n)){e.next=11;break}return e.next=7,f.methods.getPendingTasks(r).call({from:de,gas:15e5}).then((function(e){console.log(e);var t=e[7].split(",").map(Number),f=se-t[0],r=ce-t[1];Math.sqrt(f*f+r*r);a++;var i=document.createElement("tr"),s=document.createElement("td");s.setAttribute("name","address"),s.setAttribute("value",e[0]);var c=document.createTextNode(e[0]);s.appendChild(c),i.appendChild(s),oe[0]=e[0],c=document.createTextNode(e[4]);var d=document.createElement("td");d.appendChild(c),i.appendChild(d),oe[1]=e[4],c=document.createTextNode(e[6]);var o=document.createElement("td");o.appendChild(c),i.appendChild(o),oe[2]=e[6],c=document.createTextNode(e[6]/(2*e[8]));var l=document.createElement("td");l.appendChild(c),i.appendChild(l),oe[3]=e[6]/e[8]*2,c=document.createTextNode(e[5]);var u=document.createElement("td");u.appendChild(c),i.appendChild(u),oe[4]=e[5],c=document.createTextNode(e[7]);var p=document.createElement("td");p.setAttribute("name","loc");var b=e[7];console.log("test"+b);var m=b.split(",").map(Number);console.log(m),oe[5]=e[7];var h=m[0]+","+m[1]+","+e[0]+","+e[8]+","+e[6]/1e12;p.setAttribute("value",h),console.log(h),p.appendChild(c),i.appendChild(p),c=document.createTextNode(e[8]);var y=document.createElement("td");y.setAttribute("id",e[0]+"sol"),y.appendChild(c),i.appendChild(y),oe[6]=e[8],c=document.createTextNode(e[9]);var j=document.createElement("td");j.appendChild(c),i.appendChild(j),oe[7]=e[9];var x=document.createElement("td");c=document.createTextNode(e[1]),x.appendChild(c),i.appendChild(x),oe[8]=e[1],c=document.createTextNode(e[2]);var g=document.createElement("td");g.appendChild(c),i.appendChild(g),oe[9]=e[2],c=document.createTextNode(e[10]);var v=document.createElement("td");v.appendChild(c),i.appendChild(v),document.getElementById("pending").appendChild(i),oe[10]=e[10];var C=document.createElement("input"),k=document.createElement("td");C.setAttribute("id","data"+e[0]),k.appendChild(C),i.appendChild(k);var w=document.createElement("Button");c=document.createTextNode("Reserve"),w.appendChild(c),w.setAttribute("id","res"+e[0]),w.onclick=function(){var e;e=this.id,le.eth.getAccounts((function(t,f){if(null==t){if(f.length>0){var n=document.getElementById("account").value;console.log(le.currentProvider),console.log(f),le.eth.defaultAccount=f[n],de=f[n],alert(de);var a=e.split("s");console.log("reserving cont "+a);var r=new le.eth.Contract(Z,a[1]);console.log(de+" "+document.getElementById("reservedur").value+" "+document.getElementById("reservedis").value);r.methods.requestRes(de,document.getElementById("reservedis").value,document.getElementById("reservedur").value).send({from:de,gas:15e5}).then((function(e){e,console.log("result "+e),alert("reserved")}))}}else alert("There was an error fetching your accounts")}))},console.log(w);var N=document.createElement("td");N.appendChild(w),i.appendChild(N);var E=document.createElement("Button");c=document.createTextNode("ReserveCheck"),E.appendChild(c),E.setAttribute("id","resck"+e[0]),E.onclick=function(){var e;e=this.id,le.eth.getAccounts((function(t,f){if(null==t){if(f.length>0){var n=document.getElementById("account").value;console.log(le.currentProvider),console.log(f),le.eth.defaultAccount=f[n],de=f[n],alert(de);var a=e.split("k");console.log("Reservation Check  "+a);var r=new le.eth.Contract(Z,a[1]);r.methods.evaluateReservations().send({from:de,gas:15e5}).then(function(){var e=Object(T.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Reservation evaluated"),alert("Reservation evaluated"),console.log(de+" "+document.getElementById("reservedur").value+" "+document.getElementById("reservedis").value),e.next=5,r.methods.successfulreservation(de).call({from:de,gas:15e5}).then((function(e){e,console.log("result of reservation "+e),alert("reservation checked"),localStorage.setItem("address2",oe[0]),localStorage.setItem("datatype",oe[1]),localStorage.setItem("deposit",oe[2]),localStorage.setItem("duration3",oe[4]),localStorage.setItem("location1",oe[5]),alert(localStorage.getItem("address2"))}));case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}else alert("There was an error fetching your accounts")}))};var A=document.createElement("td");A.appendChild(E),i.appendChild(A);var S=document.createElement("Button");c=document.createTextNode("Submit Solution"),S.appendChild(c),S.setAttribute("id",e[0]),S.onclick=function(){var e;e=this.id,le.eth.getAccounts((function(t,f){if(null==t){if(f.length>0){var n=document.getElementById("account").value;console.log(le.currentProvider),console.log(f),le.eth.defaultAccount=f[n],de=f[n];var a=new le.eth.Contract(Z,e);console.log("whatever this is "+e),console.log(de+" "+document.getElementById("data"+e).value);var n=document.getElementById("data"+e).value;a.methods.submitSolution(de,document.getElementById("data"+e).value).send({from:de,gas:15e5}).then((function(e){e?(console.log("status = "+e),alert("submitted")):(console.log("error"),alert("rejected"))}))}}else alert("There was an error fetching your accounts")}))};var I=document.createElement("td");I.appendChild(S),i.appendChild(I),a==n&&alert(a+" "+n+"done")}));case 7:e.sent;case 8:r++,e.next=4;break;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:e.sent;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var pe,be,me,he,ye=function(){var e=p(),t=Object(y.a)(e,2);return t[0].basket,t[1],Object(n.jsxs)("div",{class:"container",children:[Object(n.jsx)("h1",{children:"Are you ready to start working?"}),Object(n.jsx)("form",{children:Object(n.jsx)("button",{type:"submit",onClick:ue,children:"Find Tasks Nearby"})}),Object(n.jsx)("label",{for:"account",class:"col-lg-2 control-label",children:"Account Address"}),Object(n.jsx)("input",{id:"account",type:"text"}),Object(n.jsx)("h1",{children:"Pending Tasks"}),Object(n.jsx)("table",{border:"1",id:"pending",class:"table_content",children:Object(n.jsx)("tbody",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:" Contract Address "})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Data Type  "})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Deposit (in finny) "})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Min Payment (in finny) "})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Task Duration "})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Desired Location  "})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Required Solutions "})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Similarity Tolerance "})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Req's Address"})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Req's Reputation"})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Min Rep "})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Input Data "})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Reserve Slot"})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Reserve Check"})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Submit Data"})})]})})}),Object(n.jsx)("input",{id:"reservedur",type:"text",placeholder:"Duration"}),Object(n.jsx)("input",{id:"reservedis",type:"text",placeholder:"Distance"})]})},je=(f(351),[]),xe=C,ge=k,ve=new E.a(new E.a.providers.HttpProvider(w));ve.eth.getAccounts((function(e,t){null==e?t.length>0&&(console.log(ve.currentProvider),console.log(t),ve.eth.defaultAccount=t[0],pe=t[0]):alert("There was an error fetching your accounts")}));var Oe=function(){var e=Object(T.a)(O.a.mark((function e(t){var f,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f=function(e){console.log(e.coords.latitude,e.coords.longitude),me=e.coords.latitude.toFixed(2),he=e.coords.longitude.toFixed(2)},navigator.geolocation&&navigator.geolocation.getCurrentPosition(f),setTimeout(5e3),n=me+","+he,document.getElementById("Location").value=n;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(T.a)(O.a.mark((function e(t){var f,n,a,r,i,s,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("subbtn").disabled=!0,setTimeout(5e3),t.preventDefault(),f=document.getElementById("requestT").value,n=document.getElementById("budget").value,a=document.getElementById("Duration").value,r=document.getElementById("Location").value,i=document.getElementById("Solution").value,s=document.getElementById("Tolerance").value,c=document.getElementById("MinR").value,xe,ge,new ve.eth.Contract(Z).deploy({data:"6080604052604051620023503803806200235083398181016040526101408110156200002a57600080fd5b8101908080519060200190929190805160405193929190846401000000008211156200005557600080fd5b838201915060208201858111156200006c57600080fd5b82518660018202830111640100000000821117156200008a57600080fd5b8083526020830192505050908051906020019080838360005b83811015620000c0578082015181840152602081019050620000a3565b50505050905090810190601f168015620000ee5780820380516001836020036101000a031916815260200191505b506040526020018051906020019092919080519060200190929190805160405193929190846401000000008211156200012657600080fd5b838201915060208201858111156200013d57600080fd5b82518660018202830111640100000000821117156200015b57600080fd5b8083526020830192505050908051906020019080838360005b838110156200019157808201518184015260208101905062000174565b50505050905090810190601f168015620001bf5780820380516001836020036101000a031916815260200191505b50604052602001805190602001909291908051906020019092919080519060200190929190805190602001909291908051906020019092919050505081600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555089600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508860049080519060200190620002d6929190620003f5565b506000600360146101000a81548160ff021916908360000b60ff160217905550876005819055508660068190555085600790805190602001906200031c929190620003f5565b50846009819055508460088190555083600a81905550614e20600c8190555060028502600654816200034a57fe5b04600e8190555082600f81905550426010819055507f941ab1d06de04c069f56f789a8ab29f0b01d9210b5f9ac635137215c864897db30604051808273ffffffffffffffffffffffffffffffffffffffff16815260200180602001828103825260078152602001807f63726561746564000000000000000000000000000000000000000000000000008152506020019250505060405180910390a1505050505050505050506200049b565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200043857805160ff191683800117855562000469565b8280016001018555821562000469579182015b82811115620004685782518255916020019190600101906200044b565b5b5090506200047891906200047c565b5090565b5b80821115620004975760008160009055506001016200047d565b5090565b611ea580620004ab6000396000f3fe6080604052600436106100dd5760003560e01c8063963c54381161007f578063c778d51e11610059578063c778d51e14610432578063cc1e644f1461045d578063d1eb97d9146104c5578063dccb44a4146104f6576100dd565b8063963c5438146103745780639bc2b201146104045780639edf8c841461041b576100dd565b80635e974e56116100bb5780635e974e56146101e15780636b9611531461025b57806370dea79a146102dc57806386117f22146102f3576100dd565b80630af2256a146100e2578063133954ca1461015b578063244cbb7f14610172575b600080fd5b3480156100ee57600080fd5b506101456004803603606081101561010557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291908035906020019092919050505061050d565b6040518082815260200191505060405180910390f35b34801561016757600080fd5b506101706107c5565b005b34801561017e57600080fd5b506101cb6004803603604081101561019557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610b61565b6040518082815260200191505060405180910390f35b3480156101ed57600080fd5b5061021a6004803603602081101561020457600080fd5b8101908080359060200190929190505050610da5565b604051808573ffffffffffffffffffffffffffffffffffffffff16815260200184815260200183815260200182815260200194505050505060405180910390f35b34801561026757600080fd5b506102946004803603602081101561027e57600080fd5b8101908080359060200190929190505050610e56565b604051808673ffffffffffffffffffffffffffffffffffffffff1681526020018581526020018481526020018381526020018281526020019550505050505060405180910390f35b3480156102e857600080fd5b506102f1610eb9565b005b3480156102ff57600080fd5b5061032c6004803603602081101561031657600080fd5b8101908080359060200190929190505050610ec5565b604051808673ffffffffffffffffffffffffffffffffffffffff1681526020018581526020018481526020018381526020018281526020019550505050505060405180910390f35b34801561038057600080fd5b50610389610f28565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156103c95780820151818401526020810190506103ae565b50505050905090810190601f1680156103f65780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561041057600080fd5b50610419610f48565b005b34801561042757600080fd5b50610430611111565b005b34801561043e57600080fd5b50610447611113565b6040518082815260200191505060405180910390f35b34801561046957600080fd5b506104ac6004803603602081101561048057600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611120565b604051808260ff16815260200191505060405180910390f35b6104f4600480360360208110156104db57600080fd5b81019080803560ff1690602001909291905050506111c9565b005b34801561050257600080fd5b5061050b611e48565b005b600080600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905060008173ffffffffffffffffffffffffffffffffffffffff1663e503bb05876040518263ffffffff1660e01b8152600401808273ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b1580156105a057600080fd5b505af11580156105b4573d6000803e3d6000fd5b505050506040513d60208110156105ca57600080fd5b810190808051906020019092919050505090506000848602826103e802816105ee57fe5b059050600f5482106106df5760006040518060a001604052808973ffffffffffffffffffffffffffffffffffffffff16815260200188815260200187815260200184815260200183815250908060018154018082558091505060019003906000526020600020906005020160009091909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550602082015181600101556040820151816002015560608201518160030155608082015181600401555050600193505050506107be565b60006040518060a001604052808973ffffffffffffffffffffffffffffffffffffffff168152602001888152602001878152602001848152602001600c54815250908060018154018082558091505060019003906000526020600020906005020160009091909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151816001015560408201518160020155606082015181600301556080820151816004015550505050505b9392505050565b600080600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690506000600854905060005b600854811015610b545760005b6000805490508110156108a1576000811415610843576000818154811061082757fe5b906000526020600020906005020160040154600b819055508094505b600b546000828154811061085357fe5b9060005260206000209060050201600401541315610894576000818154811061087857fe5b906000526020600020906005020160040154600b819055508094505b8080600101915050610804565b506000600b5414156108b257610b54565b600c54600b5412156108c857600b54600c819055505b600d6040518060a00160405280600087815481106108e257fe5b906000526020600020906005020160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600081526020017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff81526020016000878154811061096957fe5b90600052602060002090600502016003015481526020016000878154811061098d57fe5b906000526020600020906005020160020154815250908060018154018082558091505060019003906000526020600020906005020160009091909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151816001015560408201518160020155606082015181600301556080820151816004015550506000808581548110610a4a57fe5b9060005260206000209060050201600401819055506001820391508273ffffffffffffffffffffffffffffffffffffffff1663c2c85cf7306040518263ffffffff1660e01b8152600401808273ffffffffffffffffffffffffffffffffffffffff168152602001915050600060405180830381600087803b158015610ace57600080fd5b505af1158015610ae2573d6000803e3d6000fd5b505050506000821415610b47577f2d07b1bfde88fe881c36dd615080bca0dd3c0548eb50671730ce42de30620de830600c54604051808373ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019250505060405180910390a15b80806001019150506107f7565b5080600881905550505050565b600080600090505b600d80549050811015610d9d578373ffffffffffffffffffffffffffffffffffffffff16600d8281548110610b9a57fe5b906000526020600020906005020160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16148015610c2c57507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff600d8281548110610c1857fe5b906000526020600020906005020160020154145b15610d905782600d8281548110610c3f57fe5b9060005260206000209060050201600101819055507f5a20a26a052b26dd5a74e7237f734bbb1b8586a537fb28db08ca23ebfd8f7f9884846004600954600d8681548110610c8957fe5b906000526020600020906005020160030154604051808673ffffffffffffffffffffffffffffffffffffffff16815260200185815260200180602001848152602001838152602001828103825285818154600181600116156101000203166002900481526020019150805460018160011615610100020316600290048015610d525780601f10610d2757610100808354040283529160200191610d52565b820191906000526020600020905b815481529060010190602001808311610d3557829003601f168201915b5050965050505050505060405180910390a160016009540360098190555060006009541415610d8657610d8560016111c9565b5b6002915050610d9f565b8080600101915050610b69565b505b92915050565b600080600080600d8581548110610db857fe5b906000526020600020906005020160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600d8681548110610df757fe5b906000526020600020906005020160010154600d8781548110610e1657fe5b906000526020600020906005020160020154600d8881548110610e3557fe5b90600052602060002090600502016003015493509350935093509193509193565b60008181548110610e6357fe5b90600052602060002090600502016000915090508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060010154908060020154908060030154908060040154905085565b610ec360016111c9565b565b600d8181548110610ed257fe5b90600052602060002090600502016000915090508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060010154908060020154908060030154908060040154905085565b6060604051806060016040528060258152602001611e4b60259139905090565b7fe9a2e4e894e14deecf562eaa5905abc80ecb6a30a6ac174828fe3aaa02357e3d600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166004600360149054906101000a900460000b6005546006546007600a54600f54604051808973ffffffffffffffffffffffffffffffffffffffff168152602001806020018860000b81526020018781526020018681526020018060200185815260200184815260200183810383528a8181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156110765780601f1061104b57610100808354040283529160200191611076565b820191906000526020600020905b81548152906001019060200180831161105957829003601f168201915b50508381038252868181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156110f95780601f106110ce576101008083540402835291602001916110f9565b820191906000526020600020905b8154815290600101906020018083116110dc57829003601f168201915b50509a505050505050505050505060405180910390a1565b565b6000600d80549050905090565b600080600090505b600d805490508110156111be578273ffffffffffffffffffffffffffffffffffffffff16600d828154811061115957fe5b906000526020600020906005020160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614156111b15760019150506111c4565b8080600101915050611128565b50600090505b919050565b600080606490506000806000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690506000600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690506000600d8054905014156113b15760018760ff1614156112f1578073ffffffffffffffffffffffffffffffffffffffff166345c44e79600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600060016040518463ffffffff1660e01b8152600401808473ffffffffffffffffffffffffffffffffffffffff1681526020018381526020018281526020019350505050600060405180830381600087803b1580156112d857600080fd5b505af11580156112ec573d6000803e3d6000fd5b505050505b7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe600360146101000a81548160ff021916908360000b60ff1602179055508173ffffffffffffffffffffffffffffffffffffffff16633790c90d600360149054906101000a900460000b6040518263ffffffff1660e01b8152600401808260000b8152602001915050600060405180830381600087803b15801561139457600080fd5b505af11580156113a8573d6000803e3d6000fd5b505050506119e3565b6001600d80549050141561150b576064600d6000815481106113cf57fe5b906000526020600020906005020160020181905550600d6000815481106113f257fe5b90600052602060002090600502016002015495507f7419a2c95e015350ff256ba1492058a3a9022a51db21e7b9916c80dee4a795c230600d60008154811061143657fe5b906000526020600020906005020160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600d60008154811061147657fe5b906000526020600020906005020160010154600d60008154811061149657fe5b906000526020600020906005020160020154604051808573ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff16815260200183815260200182815260200194505050505060405180910390a16064935060019250611559565b60005b600d80549050811015611557576000600d828154811061152a57fe5b9060005260206000209060050201600101541461154a5783806001019450505b808060010191505061150e565b505b60005b600d805490508110156119e157600080600d838154811061157957fe5b906000526020600020906005020160010154905060008114156116b6576000600d84815481106115a557fe5b9060005260206000209060050201600201819055507f7419a2c95e015350ff256ba1492058a3a9022a51db21e7b9916c80dee4a795c230600d85815481106115e957fe5b906000526020600020906005020160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600d868154811061162857fe5b906000526020600020906005020160010154600d878154811061164757fe5b906000526020600020906005020160020154604051808573ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff16815260200183815260200182815260200194505050505060405180910390a150506119d4565b60005b600d805490508110156117b9578084141580156116f557506000600d82815481106116e057fe5b90600052602060002090600502016001015414155b156117ac57600d818154811061170757fe5b90600052602060002090600502016001015482131561175457600d818154811061172d57fe5b906000526020600020906005020160010154820360648161174a57fe5b05830192506117ab565b600d818154811061176157fe5b9060005260206000209060050201600101548212156117aa5781600d828154811061178857fe5b906000526020600020906005020160010154036064816117a457fe5b05830192505b5b5b80806001019150506116b9565b5060018614156117f4578582816117cc57fe5b05600d84815481106117da57fe5b906000526020600020906005020160020181905550611824565b60018603828161180057fe5b05600d848154811061180e57fe5b9060005260206000209060050201600201819055505b600d838154811061183157fe5b9060005260206000209060050201600201548701965088600d848154811061185557fe5b906000526020600020906005020160020154131561189357600d838154811061187a57fe5b90600052602060002090600502016002015498506118dc565b87600d84815481106118a157fe5b90600052602060002090600502016002015412156118db57600d83815481106118c657fe5b90600052602060002090600502016002015497505b5b7f7419a2c95e015350ff256ba1492058a3a9022a51db21e7b9916c80dee4a795c230600d858154811061190b57fe5b906000526020600020906005020160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600d868154811061194a57fe5b906000526020600020906005020160010154600d878154811061196957fe5b906000526020600020906005020160020154604051808573ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff16815260200183815260200182815260200194505050505060405180910390a150505b808060010191505061155c565b505b600083600e54026006540390508385816119f957fe5b05955060005b600d80549050811015611cdf576000600a54600d8381548110611a1e57fe5b9060005260206000209060050201600201548a0313611b3c578373ffffffffffffffffffffffffffffffffffffffff166345c44e79600d8481548110611a6057fe5b906000526020600020906005020160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166001806040518463ffffffff1660e01b8152600401808473ffffffffffffffffffffffffffffffffffffffff1681526020018381526020018281526020019350505050600060405180830381600087803b158015611aef57600080fd5b505af1158015611b03573d6000803e3d6000fd5b5050505086600d8381548110611b1557fe5b906000526020600020906005020160020154840281611b3057fe5b04600e54019050611c0e565b8373ffffffffffffffffffffffffffffffffffffffff166345c44e79600d8481548110611b6557fe5b906000526020600020906005020160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600060016040518463ffffffff1660e01b8152600401808473ffffffffffffffffffffffffffffffffffffffff1681526020018381526020018281526020019350505050600060405180830381600087803b158015611bf557600080fd5b505af1158015611c09573d6000803e3d6000fd5b505050505b7f330ce29774f284ec3b2bb61f97eb9ff68b6425a2ac3dc33aeb4ec9207299c2d3600d8381548110611c3c57fe5b906000526020600020906005020160000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600654600d8581548110611c7e57fe5b90600052602060002090600502016002015484604051808573ffffffffffffffffffffffffffffffffffffffff16815260200184815260200183815260200182815260200194505050505060405180910390a15080806001019150506119ff565b5060018860ff161415611da2578173ffffffffffffffffffffffffffffffffffffffff166345c44e79600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600060016040518463ffffffff1660e01b8152600401808473ffffffffffffffffffffffffffffffffffffffff1681526020018381526020018281526020019350505050600060405180830381600087803b158015611d8957600080fd5b505af1158015611d9d573d6000803e3d6000fd5b505050505b6002600360146101000a81548160ff021916908360000b60ff1602179055508273ffffffffffffffffffffffffffffffffffffffff16633790c90d600360149054906101000a900460000b6040518263ffffffff1660e01b8152600401808260000b8152602001915050600060405180830381600087803b158015611e2657600080fd5b505af1158015611e3a573d6000803e3d6000fd5b505050505050505050505050565b56fe497420697320776f726b696e672070726f7065726c7920776974686f757420726576657274a26469706673582212201cdfca98fc271c79d8a1d822f2ecfe81ce9e068aa12e5980dc9aeeb47709caeb64736f6c634300060c0033",arguments:[pe,f,a,n,r,i,s,c,"0xC2a714cB3dC77A7660566D81D04a1fD24132C346","0x8372d3FC9301A9034224655e30b3aB8b66A1d56D"]}).send({from:ve.eth.defaultAccount,gas:"7000000"},(function(e,t){})).on("error",(function(e){console.log("error")})).on("transactionHash",(function(e){console.log("transactionHash")})).on("receipt",(function(e){})).on("confirmation",(function(e,t){console.log("confirmation")})).then(function(){var e=Object(T.a)(O.a.mark((function e(t,d){var o,l,u;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("contract confirmed "+t.options.address),be=t.options.address,alert(be+" TDC"),o=new ve.eth.Contract(z,ge),alert("creating task now"),e.next=7,o.methods.addTask(be,pe,f,n,a,r,i,s,c).estimateGas();case 7:return l=e.sent,console.log("Gas used: "+l),alert(l+" gas added"),e.next=12,o.methods.addTask(be,pe,f,n,a,r,i,s,c).send({from:pe,gas:l});case 12:return e.sent,alert("Task Created Succesfully!"),e.next=16,o.methods.getPendingTasksNumber().estimateGas();case 16:return u=e.sent,console.log("Gas used: "+u),alert(u+" gas added"),e.next=21,o.methods.getPendingTasksNumber().call({from:pe,gas1:u}).then(function(){var e=Object(T.a)(O.a.mark((function e(t){var f,n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,0==(f=t)&&alert("no tasks"),a=0;case 4:if(!(a<f)){e.next=11;break}return e.next=7,o.methods.getPendingTasks(a).call({from:pe,gas:15e5}).then(function(){var e=Object(T.a)(O.a.mark((function e(t){var a,r,i,s,c,d,o,l,u,p,b,m,h,y,j,x,g,v,T,C,k,w,N,E;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),n++,a=document.createElement("tr"),(r=document.createElement("td")).setAttribute("name","address"),r.setAttribute("value",t[0]),i=document.createTextNode(t[0]),r.appendChild(i),a.appendChild(r),je[0]=t[0],i=document.createTextNode(t[4]),(s=document.createElement("td")).appendChild(i),a.appendChild(s),je[1]=t[4],i=document.createTextNode(t[6]),(c=document.createElement("td")).appendChild(i),a.appendChild(c),je[2]=t[6],i=document.createTextNode(t[6]/(2*t[8])),(d=document.createElement("td")).appendChild(i),a.appendChild(d),je[3]=t[6]/t[8]*2,i=document.createTextNode(t[5]),(o=document.createElement("td")).appendChild(i),a.appendChild(o),je[4]=t[5],i=document.createTextNode(t[7]),(l=document.createElement("td")).setAttribute("name","loc"),u=t[7].substring(0,10),console.log("test"+u),p=u.split(",").map(Number),console.log(p),je[5]=t[7],b=p[0]+","+p[1]+","+t[0]+","+t[8]+","+t[6]/1e12,l.setAttribute("value",b),console.log(b),l.appendChild(i),a.appendChild(l),i=document.createTextNode(t[8]),(m=document.createElement("td")).setAttribute("id",t[0]+"sol"),m.appendChild(i),a.appendChild(m),je[6]=t[8],i=document.createTextNode(t[9]),(h=document.createElement("td")).appendChild(i),a.appendChild(h),je[7]=t[9],y=document.createElement("td"),i=document.createTextNode(t[1]),y.appendChild(i),a.appendChild(y),je[8]=t[1],i=document.createTextNode(t[2]),(j=document.createElement("td")).appendChild(i),a.appendChild(j),je[9]=t[2],x=document.createElement("input"),g=document.createElement("td"),x.setAttribute("id","data"+t[0]),g.appendChild(x),a.appendChild(g),v=document.createElement("Button"),i=document.createTextNode("Reserve"),v.setAttribute("onClick","reserveSlot(this.id)"),v.appendChild(i),v.setAttribute("id","res"+t[0]),(T=document.createElement("td")).appendChild(v),a.appendChild(T),C=document.createElement("Button"),i=document.createTextNode("ReserveCheck"),C.setAttribute("onClick","reserveCheck(this.id)"),C.appendChild(i),C.setAttribute("id","resck"+t[0]),(k=document.createElement("td")).appendChild(C),a.appendChild(k),w=document.createElement("Button"),i=document.createTextNode("Submit Solution"),w.setAttribute("onClick","submitSolution(this.id)"),w.appendChild(i),w.setAttribute("id",t[0]),(N=document.createElement("td")).appendChild(w),a.appendChild(N),i=document.createTextNode(t[10]),(E=document.createElement("td")).appendChild(i),a.appendChild(E),je[10]=t[10],n==f&&alert(n+" "+f+"done");case 99:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:e.sent;case 8:a++,e.next=4;break;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 21:e.sent,alert("Success, Check console log!");case 23:case"end":return e.stop()}}),e)})));return function(t,f){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Ce,ke=function(){var e=Object(a.useState)(""),t=Object(y.a)(e,2),f=t[0],r=t[1],i=Object(a.useState)(""),s=Object(y.a)(i,2),c=s[0],d=s[1],o=Object(a.useState)(""),l=Object(y.a)(o,2),u=l[0],p=l[1],b=Object(a.useState)(""),m=Object(y.a)(b,2),h=m[0],j=m[1],x=Object(a.useState)(""),g=Object(y.a)(x,2),v=g[0],O=g[1],T=Object(a.useState)(""),C=Object(y.a)(T,2),k=C[0],w=C[1],N=Object(a.useState)(""),E=Object(y.a)(N,2),A=E[0],S=E[1];return Object(n.jsx)("div",{className:"Addtask",children:Object(n.jsxs)("div",{className:"Addtask_container",children:[Object(n.jsx)("h1",{children:"Enter task details"}),Object(n.jsxs)("form",{children:[Object(n.jsx)("h2",{children:"Type of requested task"}),Object(n.jsx)("input",{type:"text",id:"requestT",value:f,onChange:function(e){return r(e.target.value)},required:!0}),Object(n.jsx)("h2",{children:"Duration"}),Object(n.jsx)("input",{type:"text",id:"Duration",value:u,onChange:function(e){return p(e.target.value)},required:!0}),Object(n.jsx)("h2",{children:"Deposit"}),Object(n.jsx)("input",{type:"text",id:"budget",value:c,onChange:function(e){return d(e.target.value)},required:!0}),Object(n.jsx)("h2",{children:"Location "}),Object(n.jsx)("input",{type:"text",id:"Location",value:h,onChange:function(e){return j(e.target.value)},required:!0}),Object(n.jsx)("h2",{children:"No. Of Solutions"}),Object(n.jsx)("input",{type:"text",id:"Solution",value:v,onChange:function(e){return O(e.target.value)},required:!0}),Object(n.jsx)("h2",{children:"Tolerance "}),Object(n.jsx)("input",{type:"text",id:"Tolerance",value:k,onChange:function(e){return w(e.target.value)},required:!0}),Object(n.jsx)("h2",{children:"Minimum reputation"}),Object(n.jsx)("input",{type:"text",id:"MinR",value:A,onChange:function(e){return S(e.target.value)},required:!0}),Object(n.jsx)("button",{id:"subbtn",type:"submit",onClick:Te,className:"Addtask_submitButton",children:"Submit"})]}),Object(n.jsx)("button",{id:"locbtn",type:"submit",onClick:Oe,className:"Addtask_submitButton",children:"Get Current Location"})]})})},we=function(){var e=Object(T.a)(O.a.mark((function e(t){var f,n,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(f=new E.a(new E.a.providers.HttpProvider(w))).eth.getAccounts((function(e,t){null==e?t.length>0&&(console.log(f.currentProvider),console.log(t),f.eth.defaultAccount=t[0],Ce=t[0]):alert("There was an error fetching your accounts")})),n=new f.eth.Contract(z,k),alert("getting tasks!!!"),e.next=6,n.methods.getPendingTasksNumber().estimateGas();case 6:return a=e.sent,console.log("Gas used: "+a),alert(a+" gas added"),e.next=11,n.methods.getPendingTasksNumber().call({from:Ce,gas1:a}).then(function(){var e=Object(T.a)(O.a.mark((function e(t){var f,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0,0==(f=t)&&alert("no tasks"),r=0;case 4:if(!(r<f)){e.next=11;break}return e.next=7,n.methods.getPendingTasks(r).call({from:Ce,gas:15e5}).then(function(){var e=Object(T.a)(O.a.mark((function e(t){var n,r,i,s,c,d,o,l,u,p,b,m,h,y,j,x,g,v,T,C,k,w,N,E;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),a++,n=document.createElement("tr"),(r=document.createElement("td")).setAttribute("name","address"),r.setAttribute("value",t[0]),i=document.createTextNode(t[0]),r.appendChild(i),n.appendChild(r),ye[0]=t[0],i=document.createTextNode(t[4]),(s=document.createElement("td")).appendChild(i),n.appendChild(s),ye[1]=t[4],i=document.createTextNode(t[6]),(c=document.createElement("td")).appendChild(i),n.appendChild(c),ye[2]=t[6],i=document.createTextNode(t[6]/(2*t[8])),(d=document.createElement("td")).appendChild(i),n.appendChild(d),ye[3]=t[6]/t[8]*2,i=document.createTextNode(t[5]),(o=document.createElement("td")).appendChild(i),n.appendChild(o),ye[4]=t[5],i=document.createTextNode(t[7]),(l=document.createElement("td")).setAttribute("name","loc"),u=t[7].substring(0,10),console.log("test"+u),p=u.split(",").map(Number),console.log(p),ye[5]=t[7],b=p[0]+","+p[1]+","+t[0]+","+t[8]+","+t[6]/1e12,l.setAttribute("value",b),console.log(b),l.appendChild(i),n.appendChild(l),i=document.createTextNode(t[8]),(m=document.createElement("td")).setAttribute("id",t[0]+"sol"),m.appendChild(i),n.appendChild(m),ye[6]=t[8],i=document.createTextNode(t[9]),(h=document.createElement("td")).appendChild(i),n.appendChild(h),ye[7]=t[9],y=document.createElement("td"),i=document.createTextNode(t[1]),y.appendChild(i),n.appendChild(y),ye[8]=t[1],i=document.createTextNode(t[2]),(j=document.createElement("td")).appendChild(i),n.appendChild(j),ye[9]=t[2],x=document.createElement("input"),g=document.createElement("td"),x.setAttribute("id","data"+t[0]),g.appendChild(x),n.appendChild(g),v=document.createElement("Button"),i=document.createTextNode("Reserve"),v.setAttribute("onClick","reserveSlot(this.id)"),v.appendChild(i),v.setAttribute("id","res"+t[0]),(T=document.createElement("td")).appendChild(v),n.appendChild(T),C=document.createElement("Button"),i=document.createTextNode("ReserveCheck"),C.setAttribute("onClick","reserveCheck(this.id)"),C.appendChild(i),C.setAttribute("id","resck"+t[0]),(k=document.createElement("td")).appendChild(C),n.appendChild(k),w=document.createElement("Button"),i=document.createTextNode("Submit Solution"),w.setAttribute("onClick","submitSolution(this.id)"),w.appendChild(i),w.setAttribute("id",t[0]),(N=document.createElement("td")).appendChild(w),n.appendChild(N),i=document.createTextNode(t[10]),(E=document.createElement("td")).appendChild(i),n.appendChild(E),ye[10]=t[10],a==f&&alert(a+" "+f+"done");case 99:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:e.sent;case 8:r++,e.next=4;break;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:for(e.sent,alert("Getting something ..."),r=0;r<ye.length;r++)alert(r+": "+ye[r]);alert("Check console log!");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Ne=function(e){var t=e.id,f=e.title,a=e.payment,r=e.duration,i=e.location,s=e.solutions,c=e.reputation,d=p(),o=Object(y.a)(d,2),l=o[0].basket,u=o[1];return console.log("this is the basket",l),we(),Object(n.jsxs)("div",{className:"TasksAdded",children:[Object(n.jsxs)("div",{className:"Task_info",children:[Object(n.jsxs)("div",{className:"contract_address",children:[Object(n.jsx)("strong",{children:"Address:"}),Object(n.jsx)("p",{children:t})]}),Object(n.jsxs)("div",{className:"data_type",children:[Object(n.jsx)("strong",{children:"Type:"}),Object(n.jsx)("p",{children:f})]}),Object(n.jsxs)("div",{className:"deposit",children:[Object(n.jsx)("strong",{children:"Deposit:"}),Object(n.jsx)("p",{children:a})]}),Object(n.jsxs)("div",{className:"duration",children:[Object(n.jsx)("strong",{children:"Duration:"}),Object(n.jsx)("p",{children:r})]}),Object(n.jsxs)("div",{className:"location",children:[Object(n.jsx)("strong",{children:"Location:"}),Object(n.jsx)("p",{children:i})]}),Object(n.jsxs)("div",{className:"solutions",children:[Object(n.jsx)("strong",{children:"Solutions required:"}),Object(n.jsx)("p",{children:s})]}),Object(n.jsxs)("div",{className:"reputation",children:[Object(n.jsx)("strong",{children:"Reputation:"}),Object(n.jsx)("p",{children:c})]})]}),Object(n.jsx)("button",{onClick:we,children:"View"}),Object(n.jsx)("button",{onClick:function(){u({type:"APPLY",item:{id:t,title:f,payment:a}})},children:"APPLY"})]})};f(865),f(866);var Ee=function(e){e.address,e.datatype,e.deposit,e.duration,e.hideButton;var t=p(),f=Object(y.a)(t,2);return f[0].arrayTask,f[1],Object(n.jsxs)("div",{className:"currentTasks",children:[Object(n.jsx)("div",{className:"current_list"}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"current_title",children:"Your Current Tasks:"}),Object(n.jsxs)("div",{className:"checkoutTasks",children:[Object(n.jsxs)("div",{className:"checkoutTasks_info",children:[Object(n.jsxs)("p",{className:"checkoutTasks_title",children:["Address: ",localStorage.getItem("address2")]}),Object(n.jsxs)("p",{className:"checkoutTasks_type",children:["Type: ",localStorage.getItem("datatype")]}),Object(n.jsxs)("p",{className:"checkoutTasks_payment",children:[Object(n.jsxs)("strong",{children:["Deposit: ",localStorage.getItem("deposit")]}),Object(n.jsx)("small",{children:" AED"})]}),Object(n.jsxs)("p",{className:"checkoutTasks_duration",children:["Duration: ",localStorage.getItem("duration3")]})]}),Object(n.jsx)("button",{children:"View"})]})]})]})},Ae=new E.a(new E.a.providers.HttpProvider(w));Ae.eth.getAccounts((function(e,t){null==e?t.length>0&&(console.log(Ae.currentProvider),console.log(t),Ae.eth.defaultAccount=t[0],t[0]):alert("There was an error fetching your accounts")}));f(867);var Se,Ie=0,Me=new E.a(new E.a.providers.HttpProvider(w));var Pe,De=function(){var e=Object(g.f)(),t=Object(a.useState)(""),f=Object(y.a)(t,2),r=f[0],i=f[1],s=Object(a.useState)(""),c=Object(y.a)(s,2),d=c[0],o=c[1],l=function(){var t=Object(T.a)(O.a.mark((function t(f){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.preventDefault(),e.push("/register"),Me.eth.getAccounts(function(){var e=Object(T.a)(O.a.mark((function e(t,f){var n,a,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t){e.next=3;break}return alert("There was an error fetching your accounts"),e.abrupt("return");case 3:if(!(f.length>0)){e.next=25;break}return console.log(Me.currentProvider),console.log(f),Me.eth.defaultAccount=f[Ie],Se=f[Ie],Ie+=1,n=new Me.eth.Contract(A,C),alert(Se+" User acc"),alert("Signing Up!"),alert("0xC2a714cB3dC77A7660566D81D04a1fD24132C346 Contract address check"),localStorage.setItem("Email",r),localStorage.setItem("Password",d),e.next=17,n.methods.aUser(Se,r,d).estimateGas();case 17:return a=e.sent,console.log("Gas used: "+a),e.next=21,n.methods.aUser(Se,r,d).send({from:Se,gas:a});case 21:i=e.sent,console.log(i+" Result"),alert("successfully added account!"),setTimeout(5e3);case 25:case"end":return e.stop()}}),e)})));return function(t,f){return e.apply(this,arguments)}}()),e.push("/login");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"register",children:[Object(n.jsx)("img",{className:"register__logo",src:b}),Object(n.jsxs)("div",{className:"register__container",children:[Object(n.jsx)("h1",{children:"Sign-up"}),Object(n.jsxs)("form",{children:[Object(n.jsx)("h5",{children:"Username"}),Object(n.jsx)("input",{type:"text",id:"Email",value:r,onChange:function(e){return i(e.target.value)}}),Object(n.jsx)("h5",{children:"Password"}),Object(n.jsx)("input",{type:"password",id:"Password",value:d,onChange:function(e){return o(e.target.value)}}),Object(n.jsx)("button",{type:"submit",onClick:l,className:"register__Button",children:"Create Account"})]}),Object(n.jsx)("p",{children:"By creating this account you agree to out Conditions. Please see our Privacy Notice."})]})]})},Be=(f(868),function(e){Object(D.a)(f,e);var t=Object(B.a)(f);function f(){var e;Object(M.a)(this,f);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={events:[{latitude:40.7406197,longitude:-74.00735499999996},{latitude:40.659423,longitude:-74.006},{latitude:40.71052192687988,longitude:-74.006}],showInfoWindow:!0,activeMarker:{},selectedPlace:{}},e.infoWindowHendler=function(t,f,n){return e.setState({selectedPlace:t,activeMarker:f,showInfoWindow:!0})},e.onCloseWindow=function(t){e.setState({showInfoWindow:!1,activeMarker:null})},e.displayMarkers=function(){return e.state.events.map((function(e,t){return Object(n.jsx)(R.Marker,{id:t,position:{lat:e.latitude,lng:e.longitude}},t)}))},e}return Object(P.a)(f,[{key:"render",value:function(){return Object(n.jsxs)(R.Map,{google:this.props.google,zoom:11,initialCenter:{lat:40.7128,lng:-74.006},children:[this.displayMarkers(),Object(n.jsx)(R.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showInfoWindow,onClose:this.onCloseWindow,children:Object(n.jsx)("div",{children:Object(n.jsx)("h4",{children:this.state.selectedPlace.name})})})]})}}]),f}(r.a.Component)),Re=Object(R.GoogleApiWrapper)({apiKey:"AIzaSyBrRV4gWXbo2HJ--IVCK53dHIFX9myUNIU"})(Be),_e=k,qe=[],Le=new E.a(new E.a.providers.HttpProvider(w));Le.eth.getAccounts((function(e,t){null==e?t.length>0&&(console.log(Le.currentProvider),console.log(t),Le.eth.defaultAccount=t[0],Pe=t[0]):alert("There was an error fetching your accounts")}));var Ue=function(){var e=Object(T.a)(O.a.mark((function e(t){var f,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),f=new Le.eth.Contract(z,_e),e.next=4,f.methods.getPendingTasksNumber().estimateGas();case 4:return n=e.sent,console.log("Gas used: "+n),alert(n+" gas added"),e.next=9,f.methods.getPendingTasksNumber().call({from:Pe,gas:n}).then(function(){var e=Object(T.a)(O.a.mark((function e(t){var n,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0,0==(n=t)&&alert("no tasks"),r=0;case 4:if(!(r<n)){e.next=11;break}return e.next=7,f.methods.getPendingTasks(r).call({from:Pe,gas:15e5}).then((function(e){console.log(e);var t=document.createElement("tr"),f=document.createElement("td");f.setAttribute("name","address"),f.setAttribute("value",e[0]);var r=document.createTextNode(e[0]);f.appendChild(r),t.appendChild(f),qe[0]=e[0],r=document.createTextNode(e[4]);var i=document.createElement("td");i.appendChild(r),t.appendChild(i),qe[1]=e[4],r=document.createTextNode(e[6]);var s=document.createElement("td");s.appendChild(r),t.appendChild(s),qe[2]=e[6],r=document.createTextNode(e[6]/(2*e[8]));var c=document.createElement("td");c.appendChild(r),t.appendChild(c),qe[3]=e[6]/e[8]*2,r=document.createTextNode(e[5]);var d=document.createElement("td");d.appendChild(r),t.appendChild(d),qe[4]=e[5],r=document.createTextNode(e[7]);var o=document.createElement("td");o.setAttribute("name","loc");var l=e[7];console.log("test"+l);var u=l.split(",").map(Number);console.log(u),qe[5]=e[7];var p=u[0]+","+u[1]+","+e[0]+","+e[8]+","+e[6]/1e12;o.setAttribute("value",p),console.log(p),o.appendChild(r),t.appendChild(o),r=document.createTextNode(e[8]);var b=document.createElement("td");b.setAttribute("id",e[0]+"sol"),b.appendChild(r),t.appendChild(b),qe[6]=e[8],r=document.createTextNode(e[9]);var m=document.createElement("td");m.appendChild(r),t.appendChild(m),qe[7]=e[9];var h=document.createElement("td");r=document.createTextNode(e[1]),h.appendChild(r),t.appendChild(h),qe[8]=e[1],r=document.createTextNode(e[2]);var y=document.createElement("td");y.appendChild(r),t.appendChild(y),qe[9]=e[2],r=document.createTextNode(e[10]);var j=document.createElement("td");j.appendChild(r),t.appendChild(j),document.getElementById("pending").appendChild(t),qe[10]=e[10];var x=document.createElement("Button");r=document.createTextNode("Delete Task"),x.appendChild(r),x.setAttribute("id","del"+e[0]),x.onclick=function(){var e;e=this.id,Le.eth.getAccounts((function(t,f){if(null==t){if(f.length>0){var n=document.getElementById("account").value;console.log(Le.currentProvider),console.log(f),Le.eth.defaultAccount=f[n],Pe=f[n],alert(Pe);var a=e.split("l");console.log("to delete "+a);var r=new Le.eth.Contract(z,_e);if(Pe==qe[8]){alert("checked");r.methods.cancelTask(Pe,a[1]).send({from:Pe,gas:15e5}).then((function(e){alert("function has been deleted succesfully")}))}else alert("Not able to delete this task")}}else alert("There was an error fetching your accounts")}))};var g=document.createElement("td");g.appendChild(x),t.appendChild(g),a==n&&alert(a+" "+n+"done")}));case 7:e.sent;case 8:r++,e.next=4;break;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:e.sent;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Ge=function(){return Object(n.jsxs)("div",{class:"container",children:[Object(n.jsx)("h1",{children:"My Tasks"}),Object(n.jsx)("form",{children:Object(n.jsx)("button",{type:"submit",onClick:Ue,children:"Find Tasks To Delete"})}),Object(n.jsx)("label",{for:"account",class:"col-lg-2 control-label",children:"Account Address"}),Object(n.jsx)("input",{id:"account",type:"text"}),Object(n.jsx)("h1",{children:"Pending Tasks"}),Object(n.jsx)("table",{border:"1",id:"pending",class:"table_content",children:Object(n.jsx)("tbody",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:" Contract Address "})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Data Type  "})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Deposit (in finny) "})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Min Payment (in finny) "})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Task Duration "})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Desired Location  "})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Required Solutions "})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Similarity Tolerance "})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Req's Address"})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Req's Reputation"})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Min Rep "})}),Object(n.jsx)("td",{children:Object(n.jsx)("label",{children:"Delete "})})]})})})]})};var We=function(){return Object(n.jsx)(o.a,{children:Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(g.c,{children:[Object(n.jsx)(g.a,{path:"/login",children:Object(n.jsx)(I,{})}),Object(n.jsx)(g.a,{path:"/register",children:Object(n.jsx)(De,{})}),Object(n.jsxs)(g.a,{path:"/Findtasks",children:[Object(n.jsx)(x,{}),Object(n.jsx)(ye,{})]}),Object(n.jsxs)(g.a,{path:"/addtask",children:[Object(n.jsx)(h,{}),Object(n.jsx)(ke,{})]}),Object(n.jsxs)(g.a,{path:"/currenttasks",children:[Object(n.jsx)(x,{}),Object(n.jsx)(Ee,{})]}),Object(n.jsxs)(g.a,{path:"/worker",children:[Object(n.jsx)(x,{}),Object(n.jsx)(Q,{})]}),Object(n.jsxs)(g.a,{path:"/requester",children:[Object(n.jsx)(h,{}),Object(n.jsx)(J,{})]}),Object(n.jsxs)(g.a,{path:"/mytasks",children:[Object(n.jsx)(h,{}),Object(n.jsx)(Ge,{})]}),Object(n.jsx)(g.a,{path:"/locationtest",children:Object(n.jsx)(Re,{})}),Object(n.jsxs)(g.a,{path:"/viewtasks",children:[Object(n.jsx)(h,{}),Object(n.jsx)(Ne,{})]}),Object(n.jsx)(g.a,{path:"/viewtaskstest",children:Object(n.jsx)(ye,{})}),Object(n.jsxs)(g.a,{path:"/",children:[Object(n.jsx)(m,{}),Object(n.jsx)(F,{})]})]})})})},Fe=function(e){e&&e instanceof Function&&f.e(3).then(f.bind(null,885)).then((function(t){var f=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;f(e),n(e),a(e),r(e),i(e)}))},He=f(145),ze=f(78),Ve=function(e,t){switch(console.log(t),t.type){case"APPLY":return Object(ze.a)(Object(ze.a)({},e),{},{basket:[].concat(Object(He.a)(e.basket),[t.item])});case"SUBMIT":return Object(ze.a)(Object(ze.a)({},e),{},{basket2:[].concat(Object(He.a)(e.basket2),[t.item])});case"CANCEL":var f=e.basket.findIndex((function(e){return e.id===t.id})),n=Object(He.a)(e.basket);return f>=0?n.splice(f,1):console.warn("Cant remove task (id: ".concat(t.id,") as its not in the list!")),Object(ze.a)(Object(ze.a)({},e),{},{basket:n});default:return e}};s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(u,{initialState:{basket:[],basket2:[],arrayTask:[]},reducer:Ve,children:Object(n.jsx)(We,{})})}),document.getElementById("root")),Fe()}},[[870,1,2]]]);
//# sourceMappingURL=main.0d9dc73f.chunk.js.map